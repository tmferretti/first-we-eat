function FastClick(j,i){function p(d,c){return function(){return d.apply(c,arguments)}}var o;if(i=i||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=i.touchBoundary||10,this.layer=j,this.tapDelay=i.tapDelay||200,!FastClick.notNeeded(j)){for(var n=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],m=this,l=0,k=n.length;k>l;l++){m[n[l]]=p(m[n[l]],m)}deviceIsAndroid&&(j.addEventListener("mouseover",this.onMouse,!0),j.addEventListener("mousedown",this.onMouse,!0),j.addEventListener("mouseup",this.onMouse,!0)),j.addEventListener("click",this.onClick,!0),j.addEventListener("touchstart",this.onTouchStart,!1),j.addEventListener("touchmove",this.onTouchMove,!1),j.addEventListener("touchend",this.onTouchEnd,!1),j.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(j.removeEventListener=function(a,h,g){var f=Node.prototype.removeEventListener;"click"===a?f.call(j,a,h.hijacked||h,g):f.call(j,a,h,g)},j.addEventListener=function(a,h,g){var f=Node.prototype.addEventListener;"click"===a?f.call(j,a,h.hijacked||(h.hijacked=function(b){b.propagationStopped||h(b)}),g):f.call(j,a,h,g)}),"function"==typeof j.onclick&&(o=j.onclick,j.addEventListener("click",function(b){o(b)},!1),j.onclick=null)}}var deviceIsAndroid=navigator.userAgent.indexOf("Android")>0,deviceIsIOS=/iP(ad|hone|od)/.test(navigator.userAgent),deviceIsIOS4=deviceIsIOS&&/OS 4_\d(_\d)?/.test(navigator.userAgent),deviceIsIOSWithBadTarget=deviceIsIOS&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),deviceIsBlackBerry10=navigator.userAgent.indexOf("BB10")>0;FastClick.prototype.needsClick=function(b){switch(b.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(b.disabled){return !0}break;case"input":if(deviceIsIOS&&"file"===b.type||b.disabled){return !0}break;case"label":case"video":return !0}return/\bneedsclick\b/.test(b.className)},FastClick.prototype.needsFocus=function(b){switch(b.nodeName.toLowerCase()){case"textarea":return !0;case"select":return !deviceIsAndroid;case"input":switch(b.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return !1}return !b.disabled&&!b.readOnly;default:return/\bneedsfocus\b/.test(b.className)}},FastClick.prototype.sendClick=function(f,e){var h,g;document.activeElement&&document.activeElement!==f&&document.activeElement.blur(),g=e.changedTouches[0],h=document.createEvent("MouseEvents"),h.initMouseEvent(this.determineEventType(f),!0,!0,window,1,g.screenX,g.screenY,g.clientX,g.clientY,!1,!1,!1,!1,0,null),h.forwardedTouchEvent=!0,f.dispatchEvent(h)},FastClick.prototype.determineEventType=function(b){return deviceIsAndroid&&"select"===b.tagName.toLowerCase()?"mousedown":"click"},FastClick.prototype.focus=function(d){var c;deviceIsIOS&&d.setSelectionRange&&0!==d.type.indexOf("date")&&"time"!==d.type?(c=d.value.length,d.setSelectionRange(c,c)):d.focus()},FastClick.prototype.updateScrollParent=function(e){var d,f;if(d=e.fastClickScrollParent,!d||!d.contains(e)){f=e;do{if(f.scrollHeight>f.offsetHeight){d=f,e.fastClickScrollParent=f;break}f=f.parentElement}while(f)}d&&(d.fastClickLastScrollTop=d.scrollTop)},FastClick.prototype.getTargetElementFromEventTarget=function(b){return b.nodeType===Node.TEXT_NODE?b.parentNode:b},FastClick.prototype.onTouchStart=function(f){var e,h,g;if(f.targetTouches.length>1){return !0}if(e=this.getTargetElementFromEventTarget(f.target),h=f.targetTouches[0],deviceIsIOS){if(g=window.getSelection(),g.rangeCount&&!g.isCollapsed){return !0}if(!deviceIsIOS4){if(h.identifier&&h.identifier===this.lastTouchIdentifier){return f.preventDefault(),!1}this.lastTouchIdentifier=h.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=f.timeStamp,this.targetElement=e,this.touchStartX=h.pageX,this.touchStartY=h.pageY,f.timeStamp-this.lastClickTime<this.tapDelay&&f.preventDefault(),!0},FastClick.prototype.touchHasMoved=function(e){var d=e.changedTouches[0],f=this.touchBoundary;return Math.abs(d.pageX-this.touchStartX)>f||Math.abs(d.pageY-this.touchStartY)>f?!0:!1},FastClick.prototype.onTouchMove=function(b){return this.trackingClick?((this.targetElement!==this.getTargetElementFromEventTarget(b.target)||this.touchHasMoved(b))&&(this.trackingClick=!1,this.targetElement=null),!0):!0},FastClick.prototype.findControl=function(b){return void 0!==b.control?b.control:b.htmlFor?document.getElementById(b.htmlFor):b.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},FastClick.prototype.onTouchEnd=function(i){var h,n,m,l,k,j=this.targetElement;if(!this.trackingClick){return !0}if(i.timeStamp-this.lastClickTime<this.tapDelay){return this.cancelNextClick=!0,!0}if(this.cancelNextClick=!1,this.lastClickTime=i.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,deviceIsIOSWithBadTarget&&(k=i.changedTouches[0],j=document.elementFromPoint(k.pageX-window.pageXOffset,k.pageY-window.pageYOffset)||j,j.fastClickScrollParent=this.targetElement.fastClickScrollParent),m=j.tagName.toLowerCase(),"label"===m){if(h=this.findControl(j)){if(this.focus(j),deviceIsAndroid){return !1}j=h}}else{if(this.needsFocus(j)){return i.timeStamp-n>100||deviceIsIOS&&window.top!==window&&"input"===m?(this.targetElement=null,!1):(this.focus(j),this.sendClick(j,i),deviceIsIOS&&"select"===m||(this.targetElement=null,i.preventDefault()),!1)}}return deviceIsIOS&&!deviceIsIOS4&&(l=j.fastClickScrollParent,l&&l.fastClickLastScrollTop!==l.scrollTop)?!0:(this.needsClick(j)||(i.preventDefault(),this.sendClick(j,i)),!1)},FastClick.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},FastClick.prototype.onMouse=function(b){return this.targetElement?b.forwardedTouchEvent?!0:b.cancelable&&(!this.needsClick(this.targetElement)||this.cancelNextClick)?(b.stopImmediatePropagation?b.stopImmediatePropagation():b.propagationStopped=!0,b.stopPropagation(),b.preventDefault(),!1):!0:!0},FastClick.prototype.onClick=function(d){var c;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===d.target.type&&0===d.detail?!0:(c=this.onMouse(d),c||(this.targetElement=null),c)},FastClick.prototype.destroy=function(){var b=this.layer;deviceIsAndroid&&(b.removeEventListener("mouseover",this.onMouse,!0),b.removeEventListener("mousedown",this.onMouse,!0),b.removeEventListener("mouseup",this.onMouse,!0)),b.removeEventListener("click",this.onClick,!0),b.removeEventListener("touchstart",this.onTouchStart,!1),b.removeEventListener("touchmove",this.onTouchMove,!1),b.removeEventListener("touchend",this.onTouchEnd,!1),b.removeEventListener("touchcancel",this.onTouchCancel,!1)},FastClick.notNeeded=function(f){var e,h,g;if("undefined"==typeof window.ontouchstart){return !0}if(h=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!deviceIsAndroid){return !0}if(e=document.querySelector("meta[name=viewport]")){if(-1!==e.content.indexOf("user-scalable=no")){return !0}if(h>31&&document.documentElement.scrollWidth<=window.outerWidth){return !0}}}if(deviceIsBlackBerry10&&(g=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),g[1]>=10&&g[2]>=3&&(e=document.querySelector("meta[name=viewport]")))){if(-1!==e.content.indexOf("user-scalable=no")){return !0}if(document.documentElement.scrollWidth<=window.outerWidth){return !0}}return"none"===f.style.msTouchAction?!0:!1},FastClick.attach=function(d,c){return new FastClick(d,c)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return FastClick}):"undefined"!=typeof module&&module.exports?(module.exports=FastClick.attach,module.exports.FastClick=FastClick):window.FastClick=FastClick;